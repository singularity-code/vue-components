<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>
		Shopping List
	</title>
	<script src="https://unpkg.com/vue@2"></script>
</head>
<body>
<div id="app">
	<h1>Vue Component</h1>
	<click-counter></click-counter>
	<click-counter></click-counter>
	<click-counter></click-counter>
	<click-counter></click-counter>
	<click-counter></click-counter>
	<plan-picker></plan-picker>
</div>

<script type="text/x-template" id="click-counter-template">
	<div>
		<p>Counter: </p>
		<button @click="count++">{{count}}</button>
	</div>
</script>

<script type="text/x-template" id="plan-template">
	<span>
			{{ name }}
		</span>
</script>

<script type="text/x-template" id="plan-picker-template">
	<div>
		<plan v-for="plan in plans" :name="plan"></plan>
	</div>
</script>

<script>
  Vue.component('click-counter', {
    template: '#click-counter-template',
    data() {
      return {
        count: 0
      };
    }
  });

  const PlanComponent = {
    template: '#plan-template',
    props: {
      name: {
        type: String,
        default: 'Nothing',
        required: true,
      },
      price: Number
    }
  };

  // Plan is local component only can used in picker
  // Vue.component('plan-picker', {
  //   template: '#plan-picker-template',
  //   components: {
  //     plan: PlanComponent,
  //   },
  //   data() {
  //     return {
  //       plans: ['The Latte', 'The Mocha', 'The Milk', '']
  //     };
  //   }
  // });

  // Vue.component('plan', {
  //   template: '#plan-template',
  //   props: {
  //     name: {
  //       type: String,
  //       default: 'Nothing',
  //       required: true,
  //     },
  //     price: Number
  //   }
  // });

  // define plan picker in global

  const PlanPickerComponent = {
    template: '#plan-picker-template',
    components: {
      plan: PlanComponent,
    },
    data() {
      return {
        plans: ['The Latte', 'The Mocha', 'The Milk', '']
      };
    }
  };

  new Vue({
    el: '#app',
    // global component
    components: {
      'plan-picker': PlanPickerComponent
    }
  });
</script>
</body>
</html>